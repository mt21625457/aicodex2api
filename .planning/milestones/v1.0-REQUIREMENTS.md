# Requirements Archive: v1.0 OpenAI Bulk Edit Parity

**Archived:** 2026-02-28
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: OpenAI Bulk Edit Parity

**Defined:** 2026-02-28
**Core Value:** 管理员可在同类型 OpenAI 账号上一次完成配置变更且不误改

## v1 Requirements

### OpenAI Batch Edit Capability

- [x] **BULK-01**: 管理员可以批量设置 OpenAI 账号的自动透传开关
- [x] **BULK-02**: 管理员可以批量设置 OpenAI 账号 WS mode（`off/shared/dedicated`）
- [x] **BULK-03**: 管理员可以批量设置 OpenAI OAuth 账号 `codex_cli_only`
- [x] **BULK-04**: 管理员可以批量设置 `auto_pause_on_expired`

### Safety & Behavior

- [x] **BULK-05**: 若批量请求包含 OpenAI 专属字段，后端必须校验 `account_ids` 全部为 OpenAI 且同 `type`（`oauth` 或 `apikey`）
- [x] **BULK-06**: 批量接口继续返回逐账号结果（`success`/`failed`/`success_ids`/`failed_ids`/`results`），不回退为全有或全无
- [x] **BULK-07**: 前端批量编辑保持“只更新勾选字段，未勾选字段不发送”的语义

### Quality

- [x] **BULK-08**: 变更必须包含后端与前端测试，覆盖新增字段写入与同类型校验

## v2 Requirements

### Potential Enhancements

- **BULK-09**: 弹窗内显示所选账号平台/类型统计预览
- **BULK-10**: 保存并复用批量编辑模板

## Out of Scope

| Feature | Reason |
|---------|--------|
| 新增独立批量配置页面 | 当前弹窗可满足，避免重构页面结构 |
| 非 OpenAI 平台同等级扩展字段批量化 | 本次需求聚焦 OpenAI 场景 |
| 调度策略引擎重构 | 与本次配置编辑目标无直接关系 |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| BULK-05 | Phase 1 | Completed |
| BULK-06 | Phase 1 | Completed |
| BULK-04 | Phase 1 | Completed |
| BULK-01 | Phase 2 | Completed |
| BULK-02 | Phase 2 | Completed |
| BULK-03 | Phase 2 | Completed |
| BULK-07 | Phase 2 | Completed |
| BULK-08 | Phase 3 | Completed |

**Coverage:**
- v1 requirements: 8 total
- Mapped to phases: 8
- Unmapped: 0 ✓

---
*Requirements defined: 2026-02-28*
*Last updated: 2026-02-28 after milestone completion*
